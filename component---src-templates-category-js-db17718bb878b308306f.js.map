{"version":3,"file":"component---src-templates-category-js-db17718bb878b308306f.js","mappings":"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","sources":["webpack://my-gatsby-blog/./src/components/Hero.js","webpack://my-gatsby-blog/./src/components/Post.js","webpack://my-gatsby-blog/./src/components/Posts.js","webpack://my-gatsby-blog/./src/components/BlogSidebar.js","webpack://my-gatsby-blog/./src/components/SidebarLayout.js","webpack://my-gatsby-blog/./src/templates/category.js","webpack://my-gatsby-blog/./src/utils/hooks/useGetTaxonomies.js"],"sourcesContent":["import React from 'react'\n\nexport const Hero = ({ highlight, subTitle, title, children, index }) => {\n  return (\n    <header className={`hero ${index ? 'index' : ''}`}>\n      {subTitle && (\n        <div className=\"sub-title\">\n          {highlight && <span className=\"highlight\">{highlight}</span>}\n          {subTitle}\n        </div>\n      )}\n      {title && <h1>{title}</h1>}\n      {children && children}\n    </header>\n  )\n}\n","import React from \"react\";\nimport { Link } from \"gatsby\";\n\nimport {\n  georgianToPersianDigits,\n  getFormattedDate,\n  monthsEnum,\n} from \"../utils/helpers\";\n\nexport const Post = ({ node, prefix, newspaper }) => {\n  let formattedDate;\n\n  if (node.date) {\n    if (!newspaper) {\n      const dateArr = node.date.split(\"/\");\n      formattedDate =\n        parseInt(dateArr[2]) + \" \" + monthsEnum[parseInt(dateArr[1])];\n    } else {\n      formattedDate = getFormattedDate(node.date);\n    }\n  }\n  return (\n    <Link to={node.slug} key={node.id} className=\"post\">\n      <h3>{node.shortTitle}</h3>\n      <time>{georgianToPersianDigits(formattedDate)}</time>\n    </Link>\n  );\n};\n","import React, { useMemo } from \"react\";\n\nimport { Post } from \"./Post\";\nimport { georgianToPersianDigits } from \"../utils/helpers\";\n\nexport const Posts = ({\n  data = [],\n  showYears,\n  query,\n  prefix,\n  hideDate,\n  yearOnly,\n  ...props\n}) => {\n  const postsByYear = useMemo(() => {\n    const collection = {};\n\n    data.forEach((post) => {\n      const year = post.date?.split(\"/\")[0];\n\n      collection[year] = [...(collection[year] || []), post];\n    });\n\n    return collection;\n  }, [data]);\n  const years = useMemo(\n    () => Object.keys(postsByYear).reverse(),\n    [postsByYear]\n  );\n  if (showYears) {\n    return years.map((year) => (\n      <section key={year} className=\"segment\">\n        <h2 className=\"year\">{georgianToPersianDigits(year)}</h2>\n        <div className=\"posts\">\n          {postsByYear[year].map((node) => (\n            <Post key={node.id} node={node} query={query} prefix={prefix} />\n          ))}\n        </div>\n      </section>\n    ));\n  } else {\n    return (\n      <div className={props.newspaper ? \"posts newspaper\" : \"posts\"}>\n        {data.map((node) => {\n          return (\n            <Post\n              key={node.id}\n              node={node}\n              query={query}\n              prefix={prefix}\n              hideDate={hideDate}\n              yearOnly={yearOnly}\n              {...props}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n};\n","import React from 'react'\nimport { Link } from 'gatsby'\n\nimport { slugify } from '../utils/helpers'\nimport { useGetTaxonomies } from '../utils/hooks/useGetTaxonomies'\n\nexport const BlogSidebar = () => {\n  const data = useGetTaxonomies()\n  const categories = data.categories.group\n  const tags = data.tags.group\n\n  return (\n    <aside className=\"post-sidebar\">\n      <div className=\"post-sidebar-card\">\n        <h2>دسته بندی ها</h2>\n        <div className=\"list\">\n          {categories\n            .filter((category) => category.name !== 'Highlight')\n            .map((category) => {\n              return (\n                <Link\n                  key={category.name}\n                  to={`/categories/${slugify(category.name)}`}\n                  className=\"category\"\n                  activeClassName=\"active\"\n                >\n                  <div className=\"name\">{category.name}</div>\n                  <div className=\"count\">{category.totalCount}</div>\n                </Link>\n              )\n            })}\n        </div>\n      </div>\n\n      <div className=\"post-sidebar-card\">\n        <h2>تگ‌ها</h2>\n        <div className=\"tags\">\n          {tags.map((tag) => {\n            return (\n              <Link\n                key={tag.name}\n                to={`/tags/${slugify(tag.name)}`}\n                className=\"tag\"\n                activeClassName=\"active\"\n              >\n                {tag.name}\n              </Link>\n            )\n          })}\n        </div>\n      </div>\n    </aside>\n  )\n}\n","import React from 'react'\n\nimport { BlogSidebar } from './BlogSidebar'\n\nexport const SidebarLayout = ({ children }) => {\n  return (\n    <section className=\"container markdown-content\">\n      <div className=\"grid\">\n        <div className=\"article-content\">{children}</div>\n        <div className=\"sidebar-content\">\n          <BlogSidebar />\n        </div>\n      </div>\n    </section>\n  )\n}\n","import React, { useMemo } from \"react\";\nimport Helmet from \"react-helmet\";\n\nimport { Layout } from \"../components/Layout\";\nimport { SEO } from \"../components/SEO\";\nimport { Posts } from \"../components/Posts\";\nimport { Hero } from \"../components/Hero\";\nimport { SidebarLayout } from \"../components/SidebarLayout\";\nimport { georgianToPersianDigits, getSimplifiedPosts } from \"../utils/helpers\";\nimport config from \"../utils/config\";\nimport { graphql } from \"gatsby\";\n\nexport default function CategoryTemplate({ data, pageContext }) {\n  let { category } = pageContext;\n  const { totalCount } = data.allMarkdownRemark;\n  const posts = data.allMarkdownRemark.edges;\n  const simplifiedPosts = useMemo(() => getSimplifiedPosts(posts), [posts]);\n  const message =\n    totalCount === 1\n      ? \"  پست دسته بندی شده در دسته:\"\n      : \" پست های دسته بندی شده در دسته :\";\n\n  return (\n    <div>\n      <Helmet title={`${category} | ${config.siteTitle}`} />\n      <SEO />\n\n      <SidebarLayout>\n        <Hero\n          highlight={georgianToPersianDigits(totalCount)}\n          subTitle={message}\n          title={category}\n        />\n        <Posts data={simplifiedPosts} showYears />\n      </SidebarLayout>\n    </div>\n  );\n}\n\nCategoryTemplate.Layout = Layout;\n\nexport const pageQuery = graphql`\n  query CategoryPage($category: String) {\n    allMarkdownRemark(\n      sort: { order: DESC, fields: [frontmatter___date] }\n      filter: { frontmatter: { categories: { in: [$category] } } }\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          frontmatter {\n            slug\n            title\n            date\n            tags\n            categories\n          }\n        }\n      }\n    }\n  }\n`;\n","import { useStaticQuery, graphql } from 'gatsby'\n\nexport const useGetTaxonomies = () => {\n  const data = useStaticQuery(graphql`\n    query TaxonomyQuery {\n      tags: allMarkdownRemark {\n        group(field: frontmatter___tags) {\n          name: fieldValue\n          totalCount\n        }\n      }\n\n      categories: allMarkdownRemark {\n        group(field: frontmatter___categories) {\n          name: fieldValue\n          totalCount\n        }\n      }\n    }\n  `)\n\n  return data\n}\n"],"names":["Hero","highlight","subTitle","title","children","index","className","Post","formattedDate","node","prefix","newspaper","date","getFormattedDate","dateArr","split","parseInt","monthsEnum","Link","to","slug","key","id","shortTitle","georgianToPersianDigits","Posts","data","showYears","query","hideDate","yearOnly","props","postsByYear","useMemo","collection","forEach","post","year","years","Object","keys","reverse","map","BlogSidebar","useGetTaxonomies","categories","group","tags","filter","category","name","slugify","activeClassName","totalCount","tag","SidebarLayout","CategoryTemplate","pageContext","allMarkdownRemark","posts","edges","simplifiedPosts","getSimplifiedPosts","message","config","Layout","useStaticQuery"],"sourceRoot":""}