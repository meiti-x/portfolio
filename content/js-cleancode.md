---
template: post
title:  ุงุตูู ุงุจุชุฏุง ฺฉุฏ ุชูุฒ ุฏุฑ ุฌุงูุงุงุณฺฉุฑูพุช
shortTitle: ุงุตูู ุงุจุชุฏุง ฺฉุฏ ุชูุฒ ุฏุฑ ุฌุงูุงุงุณฺฉุฑูพุช
slug: /blog/cleanCode-review
date: 1402/03/15
tags:
  - clean-code
categories:
  - javascript
---

ููุดุชู ฺฉุฏ ุชูุฒ ูุงุจูุช maintain ูพุฑูฺู ู ุจูุฑูโูุฑ ุชู ูู ุฑู ุงูุฒุงุด ูุฏู. ุงูุจุชู ฺฉุฏ ุชูุฒ ุจู ุงู ูุนู ูุณุช ฺฉู ฺฉ ฺฉุฏุชูู ุฑู ุจุจูู ูฺฏู wtf ุจูฺฉู ุชู ุงูู ฺฉู ุชุนุฏุงุฏ wtf ูุงุฑู ฺฉุงูุด ุจุฏู.

![](./static/wtf.webp)

ุชู ุงู ูพุณุช ูุฎูุงู ฺูุฏุชุง ูฺฉุชู ุฏุฑ ููุฑุฏ ููุดุชู ฺฉุฏ ุชูุฒ ุจฺฏู

## ูุงู ฺฏุฐุงุฑ

ูุงู ฺฏุฐุงุฑ ฺฉ ุงุฒ ููู ุชุฑู ฺฉุงุฑูุง ฺฉู ูุฑ ุฑูุฒ ุจุงูุงุด ุณุฑ ู ฺฉุงุฑ ุฏุงุฑู. ุจุนุถ ููุชุง ุงูุชุฎุงุจ ู ูุงู ุฎูุจ ุฎู ฺุงูุด ุจุฑุงูฺฏุฒ ูุดู.



ฑ. ูุงู ฺฏุฐุงุฑ ุจุงุฏ ุจฺฏู ฺุฑุง ูุฌูุฏ ุฏุงุฑู ู ุงูฺฉู ฺฺฉุงุฑ ูฺฉูู ุงูุจุชู ุฏุฑ ููุงุฑุฏ ุชูุงุจุน ุจุงุฏ ุฑูุชุงุฑ ุฑู ุจฺฏู. ุงฺฏุฑ ฺฉ ูุงู ฺฏุฐุงุฑ ูุงุฒ ุจู ฺฉุงููุช ุง ุชูุถุญ ุฏุงุฑู ุนู ุฎูุจ ูุณุชูฌ ุฏุฑ ุถูู ุชู ูุงู ฺฏุฐุงุฑ ุงุฒ slang ู ูุฎูู ุงุณุชูุงุฏู ูฺฉูุฏ

```jsx
// BAD
ePay
// Good
employPaymentInfo
```

ฒ. ุงุณู ุฎูุจ ุงุฑุชุจุงุท ุฑู ุจุง ุจุฎุด ูุง ุฏฺฏุฑ ุจุฑูุงูู ูุดุฎุต ูฺฉูู. ูุดุฎุตู ฺฏุฑโูุง ุฒุงุฏ ูุณุชูุฏ ฺฉู ูุง ุงุฒ ุงุณู ููููู ุฏุชุง ุฏุงุฎู ุงูู ฺู. ูุซูุง:

1. ุงุณู ูุง ฺฉู ุจุง โ`is` ุดุฑูุน ูุดู ฺฉ ููุฏุงุฑู boolean ูุณุชู
2. ููุงุฏุฑ ฺฉู ุจุง ุญุฑูู ุจุฒุฑฺฏ `BASE_URL` ููุดุชู ูุดููฌ ุนู ฺฉ ุซุงุจุช ูุณุชูุฏ.
3. ูุชุบุฑูุง ฺฉู ุฌูุน ูุณุชูุฏ `users` ูุดูู ุฏููุฏู ุงู ูุณุชูุฏ ฺฉู ุญุงู ฺฉ ุขุฑุงู ูุณุชูุฏ.
4. ุชูุงุจุน ฺฉู ุจุง `get`, `select` ุง `find` ูุณุชูุฏ ูุนูููุง ฺฉ ุฎุฑูุฌ ุฏุงุฑู ูู ุชูุงุจุน ฺฉู ุจุง โ`process` `run` ุง `build` ูุณุชู ุฎุฑูุฌ ุฎุงุต ูุฏุงุฑูุฏ.



ณ. ุงุฒ ุงุณู ูุง ูุงุจู ุชููุธ ุงุณุชูุงุฏู ฺฉูุฏ. ุชุง ูู ุจุชููุฏ ุจู ูู ุชูุชูู ุงุณูุด ุฑู ุจฺฏุฏ ูู ุงุฏุชูู ุจูููู.

```jsx
// BAD
const dobyymm
// GOOD
const DateOFBirthInYearsMonths
```

ด. ุงุฒ ุงุณู ูุง ูุงุจู ุณุฑฺ ุงุณุชูุงุฏู ฺฉูุฏ(ููฺฉ ุจูุฏู). ูุซูุง ุชู ูุซุงู ุฒุฑ ุงูู ุนุฏุฏู ฺู ูุงูุนุง ุ

```jsx
// What the heck is 86400000 for?
setTimeout(blastOff, 86400000);

// Declare them as capitalized named constants.
const MILLISECONDS_PER_DAY = 60 * 60 * 24 * 1000; //86400000;

setTimeout(blastOff, MILLISECONDS_PER_DAY);
```

ต. ุจุฑุง ุงุณู ูุงูฺฉุดู ูุง ุงุฒ ุงูุนุงู ุงุณุชูุงุฏู ฺฉูุฏ ูุซูุง

```jsx
function postPayment() {}
```

ถ. ูพูุณุชฺฏ ุฏุงุดุชู ุจุงุดุฏ. ูุซูุง ุงฺฏุฑ ููู ุฌุง ุจุฑุง ุงุณู ฺฉูุชุฑูุฑ ูุง ุงุฒ **Controller** ุงุณุชูุงุฏู ูฺฉูุฏ. ุง ูุซูุง ุงฺฏุฑ ุจุฑุง ูุชุฏูุง ฺฉู ุฑฺฉูุณุช ุจู ุณุฑูุฑ ูุฒูู ุงูู ุขู ูุง get ุง fetchูฺฏุฐุงุฑุฏ ุจุฑุง ููู ูุชุฏ ูุง ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ

ุจุฑุง ุงูฺฉู ุงู ุงู ูพูุณุชฺฏ ุจู ุงุนุถุง ุชู ุญูุธ ุจุดู ุจุงุฏ ฺฉ styleguide ููุฑุงู ุจุง ูุซุงู ุฏุงุฎู read me ูพุฑูฺู ุจููุณู

ท. ุงุฒ ฺฉููุงุช ููุฒ ูุซู of the a an ุชู ูุงู ฺฏุฐุงุฑ ูุง ุงุณุชูุงุฏู ูฺฉูุฏ ฺูู ูฺ ูุนู ูุฏุงุฑู.

ธ. ุงุฒ ูุงู ูุง ูุงุจู ุชุดุฎุต ุงุณุชูุงุฏู ฺฉูุฏ ูุซูุง ูุฑู messages ู messagesList ุฏุฑ ฺุณุช.

น. ูุฑูุฏ ุฏูุงูุช ุงุฒ ฺฺฉ ฺฉุฑุฏู ุฎู ุชูุฒ ุชุฑู. ูุซุงู

**ุจุฏ:**

```jsx
function createMicrobrewery(name) {
  const breweryName = name || "Hipster Brew Co.";
  // ...
}
```

**ุฎูุจ:**

```jsx
function createMicrobrewery(name = "Hipster Brew Co.") {
  // ...
}
```



## ุชูุงุจุน

ฑ. ุชูุงุจุน ุจุงุฏ **ฺฉูฺฺฉ** ุจุงุดูุฏ ุชุนุฏุงุฏ ุฎุท ุจุงุฏ ฺฉูุชุงู ุจุงุดูุฏ.

ฒ. ูุทูุฆู ุจุงุดุฏ ุชุงุจุน ููุท **ฺฉ ฺฉุงุฑ** ูฺฉูู.

ุงุฒ ฺฉุฌุง ูุชููู ุจูููู ุชุงุจุนููู ฺฉ ฺฉุงุฑ ูฺฉูู ุ ููุท ฺฉ **ุฏูู** ุฏุงุฑู ฺฉู ุงูู ุฑู ุนูุถ ฺฉูู

ณ. ุณุทุญ ุชู ุฑูุชฺฏ ุฏุงุฎู ุชุงุจุน ูุจุงุฏ ุงุฒ **ฒุชุง** ุจุดุชุฑ ุจุงุดู

ด. ุชุงุจุน ูุจุงุฏ **ุณุงุฏ ุงูฺฉุช** ุฏุงุดุชู ุจุงุดู. ฺุฒ ุฑู ูุจุงุฏ ุชุบุฑ ุจุฏู ุงุฒ ุจุฑูู.

```jsx
// Bad:
const addItemToCart = (cart, item) => {
  cart.push({ item, date: Date.now() });
};

// Good:
const addItemToCart = (cart, item) => {
  return [...cart, { item, date: Date.now() }];
};
```

ุงฺฏุฑ ุขุฑุงู ุจู ุชุงุจุน ูพุงุณ ูุฏุฏ ุจู ุฌุง ุงูฺฉู ุฑู ุขุฑุงู ุงุตู ุชุบุฑ ุงุฌุงุฏ ฺฉูุฏ ฺฉ ุขุฑุงู ุฌุฏุฏ return ฺฉูุฏ

ต. ุงุฒ switch ุฏุงุฎู ุชุงุจุน ูุง ุงุณุชูุงุฏู ูฺฉูุฏ. ฺูู ุชู switch ฺฉู ูุฒุงุฑู ูุฌุจูุฑ ฺฉ ฺูุฏ ุญุงูุช ฺฉ ฺุฒ ุฑู ฺฺฉ ูฺฉูู ูพุณ ุงุตู ุชฺฉ ูุณููุช ุฑู ุฒุฑ ุณูุงู ูุจุฑู ู ุงุตู open close ฺูู ูุฑุจุงุฑ ฺฉู ฺฉ ููุน ุฌุฏุฏ ูุงุฑุฏ ูุดู ุจุงุฏ ุชุบุฑ ูฺฉูุฏ.

ุจู ุฌุงุด ูุชููุฏ ุงุฒ map ฺฉุฑุฏู ุงุณุชูุงุฏู ฺฉูุฏ. ูุซูุง

```jsx
// Bad ๐
const getServerUrl = (env) => {
  switch (env) {
    case "prod":
      return "prod.myweb.com";
    case "test":
      return "test.myweb.com";
    case "staging":
      return "staging.myweb.com";
    default:
      return "https://localhost:3000";
  }
};

// Better ๐
const serverUrls = {
  prod: "prod.myweb.com",
  test: "test.myweb.com",
  staging: "staging.myweb.com",
};

const getServerUrl = (env) => serverUrls[env]
```

ถ. ูุชุฏ ูุง ุจุง ุงู ูฺฉุชู ฺฉู ููุท ุจุงุฏ ู ฺฉุงุฑ ุงูุฌุงู ุจุฏู **ฒุง ณ ูุฑูุฏ ูุชููู ุจฺฏุฑู.** ูู ูุดู ุงุฒ destructering ุงุณุชูุงุฏู ฺฉุฑุฏ

ท. ูููุน ฺฉู ุฏุฑ ุงุฑูุฑ ูุง ูุณุชู ุจู ุฌุง ูุงฺฏ ฺฉุฑุฏู ุงูู **ุงุฑูุฑ raise ฺฉู** ุชุง ุฏุจุงฺฏ ุขุณูู ุชุฑ ู ุณุฑุนุชุฑ ุฏุงุดุชู ุจุงุด ู ุงูฺฉู ููุฏู ฺฉุฑุฏู ุฎุทุง ุฎูุฏุด ฺฉ ฺฉุงุฑู ู ุจุงุฏ ูุชุฏ ุฌุฏุงฺฏุงูู ุฏุงุดุชู ุจุงุดู

ธ. ุงุฒ ููฺฏ ุชู ุชุงุจุน ูุงุชูู ุงุณุชูุงุฏู ูฺฉูุฏ ฺูู ุงู ูุดูู ุฏููุฏู ุงูู ฺฉู ุชุงุจุน ุชูู ฺูุฏุชุง ฺฉุงุฑ ูฺฉูู

```jsx
// BAD
function createFile(name, temp) {
  if (temp) {
    fs.create(`./temp/${name}`);
  } else {
    fs.create(name);
  }
}

// Good
function createFile(name) {
  fs.create(name);
}

function createTempFile(name) {
  createFile(`./temp/${name}`);
}
```

น. ุดุฑุท ูุงุชูู ุฑู ฺฉูพุณููู ฺฉูุฏ ุชุง ูุนู ุฏุงุฑ ุชุฑ ุจุดูุฏ

```jsx
function shouldShowSpinner(fsm, listNode) {
  return fsm.state === "fetching" && isEmpty(listNode);
}

if (shouldShowSpinner(fsmInstance, listNodeInstance)) {
  // ...
}
```

## ฺฉุงููุช ูุง

ฑ. ฺฉุงููุช ฺฉุฏ ุจุฏ ุฑู ุฏุฑุณุช ููฺฉูู

ฒ. ฺฉุงููุช ุฎูุจุ ฺฉุงููุชู ฺฉู ูุง ุจุง ฺฉุฏ ู ุง ุงุตูุงุญ ฺฉุฏ ููุชููู ุงูู ุงุทูุงุนุงุช ุฑู ุจู ฺฉุงุฑุจุฑ ุจุฑุณููู

ุงฺฏู  ุบุฑ ุงู ุจุงุดู ุจูุด ูฺฏู ฺฉุงููุช ููุฒูฌ ฺฉุงููุช ููุฒ ุจู ฺฉุงููุช ูฺฏู ฺฉู ุงุทูุงุนุงุช ุฌุฏุฏ ุจู ฺฉุงุฑุจุฑ ููุฏู

```jsx
public class Pizza {
    // The ID of the pizza
    private int id;

    // The list of ingredients
    List<Ingredient> ingredients;

    // Default constructor
    Pizza()
    {
        // ...
    }
```



## ุชุณุช ููุณ

ุชู ูุฑ ุชุณุช ููุท ู ููุท ฺฉ ุณูุงุฑู ุจุงุฏ ุชุณุช ุจุดู ู ฺฉูุชุฑู ุญุฏ ูุงุจุณุชฺฏ ุจุงุฏ ุจู ุชุณุช ูุง ุจุงุดู ุทูุฑ ฺฉู ุชุฑุชุจ ุงุฌุฑุงุดูู ููู ูุจุงุดู

****ุจุฏ****

```jsx
import assert from "assert";

describe("MomentJS", () => {
  it("handles date boundaries", () => {
    let date;

    date = new MomentJS("1/1/2015");
    date.addDays(30);
    assert.equal("1/31/2015", date);

    date = new MomentJS("2/1/2016");
    date.addDays(28);
    assert.equal("02/29/2016", date);

    date = new MomentJS("2/1/2015");
    date.addDays(28);
    assert.equal("03/01/2015", date);
  });
});
```

******ุฎูุจ******

```jsx
import assert from "assert";

describe("MomentJS", () => {
  it("handles 30-day months", () => {
    const date = new MomentJS("1/1/2015");
    date.addDays(30);
    assert.equal("1/31/2015", date);
  });

  it("handles leap year", () => {
    const date = new MomentJS("2/1/2016");
    date.addDays(28);
    assert.equal("02/29/2016", date);
  });

  it("handles non-leap year", () => {
    const date = new MomentJS("2/1/2015");
    date.addDays(28);
    assert.equal("03/01/2015", date);
  });
});
```



## ููุงุฑุฏ ุนููู

### ุงุฒ typescript ุงุณุชูุงุฏู ฺฉูุฏ

ูุดุฎุต ฺฉุฑุฏู ููุน ูุฑูุฏ ู ุฎุฑูุฌ ู ุฑุนุงุช ููุงูู ุณุฎุช ฺฏุฑุงูู ุชุงูพ ุงุณฺฉุฑูพุช ุจุงุนุซ ูุดู ุจู ุฎูุฏ ุฎูุฏูฌ ุงุณุชูุงุฏู ุงุฒุด ุจุงุนุซ ุฎูุงูุง ฺฉุฏ ุจุดู



### ุงุฒ eslint ู prettier ุงุณุชูุงุฏู ฺฉู

ููฺฉูู ุจุนุถ ููุช ูุง ุงุฏุช ุจุฑู ฺฉู ุชุงุจุนุช ูุจุงุฏ ุจุดุชุฑ ุงุฒ ณ ุชุง ูุฑูุฏ ุจฺฏุฑููฌ ูุชูู ุงุฒ linter ูุง ุงุณุชูุงุฏู ฺฉู ฺฉู ฺฉุฏุชู ูููุน ุชุบุฑ ุจุฑุฑุณ ฺฉูู ุชุง ูุดฺฉู ูุง ุงูุฌูุฑ ุฑู ุจูุช ุงุฏุขูุฑ ฺฉูู.

prettier ูู ุจู ุชู ฺฉูฺฉ ูฺฉูู ฺฉู ุชุง ุญุฏูุฏ ุฒุงุฏ ฺฉ ุฏุณุชุฎุท ฺฉุฏ ุฏุงุดุชู ุจุงุดู ุจุฑุง ฺฉ ูพุฑูฺู. ุงูุจุชู ุญุชูุง ุจุงุฏ ุฑู [ููฺฉ ูุง ฺฏุช](https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks) set ุจุดู ฺฉู ฺฉุฏ ุชุฑ ู ุชูุฒ ุจุงุฏ ุจุฑุง code review

### ุงุฒ  promise ุจู ุฌุง callback ุงุณุชูุงุฏู ฺฉู

ฺฉุงู ุจฺฉ ูุง ุฑุงู ุญู ุชูุฒ ูุณุชูุฏ. ุจู ุฎุงุทุฑ ุงูฺฉู ุณุทุญ ุชูุฑูุชฺฏ ฺฉุฏ ุฑู ุฒุงุฏ ูฺฉูู.![](./static/callback-hell.jpeg)

ุงูุจุชู ููุท ุงู ูู ูุณุช. ุจุฑุง ูุทุงูุนู ูุชููุฏ ูุฑู ุจู `inversion of control`  ู โโ`depdency injection` ุฑู ุจุฎููุฏ(ุดุงุฏ ู ุฑูุฒ ููู ุฌุง ููุดุชู)

### ุฎูุฏุชู ุชฺฉุฑุงุฑ ูฺฉู

ฺฉุฏ ุชฺฉุฑุงุฑ ูฺ ููุช ูุดููู ุฎูุจ ูุณุช. ุงฺฏุฑ ุฎูุฏุช ุฑู ุชฺฉุฑุงุฑ ฺฉู ูููุน ุจู ุฑูุฒ ฺฉุฑุฏู ู ูุชุฏ ุง ฺฉูุงุณ ุจุงุฏ ุฌุงูุง ุฎู ุฒุงุฏ ุฑู ุนูุถ ฺฉู

